# Erlang Quickcheck unofficial documentation

This is my attempt to write a documentation to make Erlang Quickcheck a little bit less difficult to grasp.
This is an **unofficial documentation**, so bear in mind that the most reliable source is still the [Quiviq official website](http://www.quviq.com/products/erlang-quickcheck/).

## Generators

In Quickcheck, generators are used to generate random test data for our properties. Generators can be combined to form more complex generators with the help of some useful macros defined in the file `eqc.hrl`.

The simplest form of generator is a constant, which can be used to generate its own value (e.g. 5, foo, bar).

We can try generators in the erlang shell using the function eqc_gen:sample/1 which prints 11 values randomly generated by the generator given as input. it will be used in the next part of the documentation to make some examples of the generators shipped with `eqc`.

Quickcheck offers lots of basic generators out of the box:

#### eqc_gen:binary/0
Generates a binary of random size.

```erlang
1> eqc_gen:sample(eqc_gen:binary()).
<<66,74,153,140>>
<<>>
<<>>
<<117,130>>
<<4,40>>
<<"æ¼n×S">>
<<>>
<<145>>
<<205,139,246,38,82,152>>
<<46,3,121,222,6,224>>
<<152>>
```

**TODO: list them here**

But in some cases you need to define a new one, for example:

_"We need a generator for newest erlang data type that is **maps**"_.

**TODO: write who to use this is a good English :-)**

```erlang
thing() ->
  ?LET({Weight, Value}, {nat(), nat()}, #{ w => Weight, v => Value}).
```

```erlang
1> eqc_gen:sample(knapsack_eqc:thing()).
#{v => 10,w => 4}
#{v => 10,w => 2}
#{v => 9,w => 10}
#{v => 0,w => 3}
#{v => 10,w => 11}
#{v => 3,w => 7}
#{v => 0,w => 8}
#{v => 0,w => 5}
#{v => 13,w => 14}
#{v => 2,w => 1}
#{v => 11,w => 20}
ok
```
